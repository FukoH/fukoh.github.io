---
title: '多标签分类的结果评估---macro-average和micro-average介绍'
date: 2018-04-13
excerpt: 机器学习中如何评估多分类结果
permalink: /posts/2018/04/多标签分类的结果评估---macro-average和micro-average介绍/
tags:
  - Data Science
  - Machine learning
---

## 一,多分类的混淆矩阵
多分类混淆矩阵是二分类混淆矩阵的扩展

![多分类混淆矩阵](https://images2018.cnblogs.com/blog/1366679/201804/1366679-20180413175317502-685056976.png)

祭出代码,画线的那两行就是关键啦:
![多分类混淆矩阵代码](https://images2018.cnblogs.com/blog/1366679/201804/1366679-20180413175600421-1704322383.png)

## 二,查看多分类的评估报告

祭出代码,使用了classicfication_report()
![多分类的评估报告](https://images2018.cnblogs.com/blog/1366679/201804/1366679-20180413175726880-56773811.png)

## 三,宏平均与微平均
公式是神看的,我是学弱...直接看例子,没有复杂的公式:
### 宏平均
![宏平均](https://images2018.cnblogs.com/blog/1366679/201804/1366679-20180413180201734-1205637646.png)

### 微平均
![微平均](https://images2018.cnblogs.com/blog/1366679/201804/1366679-20180413180147402-1119858334.png)

##宏平均和微平均的对比
1. 如果每个class的样本数量差不多,那么宏平均和微平均没有太大差异
2. 如果每个class的样本数量差异很大,而且你想:
    - 更注重样本量多的class:使用微平均
    - 更注重样本量少的class:使用宏平均
3. 如果微平均大大低于宏平均,检查样本量多的class
4. 如果宏平均大大低于微平均,检查样本量少的class
![](https://images2018.cnblogs.com/blog/1366679/201804/1366679-20180413180328627-591627955.png)


## 代码如何实现微平均和宏平均
传参数指定即可..sklearn真的很强大.